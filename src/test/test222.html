<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-Scroll Tabelle</title>
    <style>
        .table-container {
            height: 400px;
            overflow-y: auto;
            border: 2px solid #006b99;
            border-radius: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #006b99;
            color: white;
            position: sticky;
            top: 0;
        }

        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>

<body>
    <h2>Auto-Scroll Tabelle</h2>
    <button onclick="startScroll()">Start Scroll</button>
    <button onclick="stopScroll()">Stop Scroll</button>
    <button onclick="resetScroll()">Zurück nach oben</button>

    <div class="table-container" id="tableContainer">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Beschreibung</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Eintrag 1</td>
                    <td>Beschreibung für Eintrag 1</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Eintrag 2</td>
                    <td>Beschreibung für Eintrag 2</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Eintrag 3</td>
                    <td>Beschreibung für Eintrag 3</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Eintrag 4</td>
                    <td>Beschreibung für Eintrag 4</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Eintrag 5</td>
                    <td>Beschreibung für Eintrag 5</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Eintrag 6</td>
                    <td>Beschreibung für Eintrag 6</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Eintrag 7</td>
                    <td>Beschreibung für Eintrag 7</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Eintrag 8</td>
                    <td>Beschreibung für Eintrag 8</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Eintrag 9</td>
                    <td>Beschreibung für Eintrag 9</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Eintrag 10</td>
                    <td>Beschreibung für Eintrag 10</td>
                </tr>
                <tr>
                    <td>11</td>
                    <td>Eintrag 11</td>
                    <td>Beschreibung für Eintrag 11</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>Eintrag 12</td>
                    <td>Beschreibung für Eintrag 12</td>
                </tr>
                <tr>
                    <td>13</td>
                    <td>Eintrag 13</td>
                    <td>Beschreibung für Eintrag 13</td>
                </tr>
                <tr>
                    <td>14</td>
                    <td>Eintrag 14</td>
                    <td>Beschreibung für Eintrag 14</td>
                </tr>
                <tr>
                    <td>15</td>
                    <td>Eintrag 15</td>
                    <td>Beschreibung für Eintrag 15</td>
                </tr>
                <tr>
                    <td>16</td>
                    <td>Eintrag 16</td>
                    <td>Beschreibung für Eintrag 16</td>
                </tr>
                <tr>
                    <td>17</td>
                    <td>Eintrag 17</td>
                    <td>Beschreibung für Eintrag 17</td>
                </tr>
                <tr>
                    <td>18</td>
                    <td>Eintrag 18</td>
                    <td>Beschreibung für Eintrag 18</td>
                </tr>
                <tr>
                    <td>19</td>
                    <td>Eintrag 19</td>
                    <td>Beschreibung für Eintrag 19</td>
                </tr>
                <tr>
                    <td>20</td>
                    <td>Eintrag 20</td>
                    <td>Beschreibung für Eintrag 20</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        let scrollInterval;
        const container = document.getElementById('tableContainer');
        const firstRow = document.querySelector('tbody tr');
        const body = document.querySelector('tbody');
        console.log(body.offsetHeight);
        console.log(firstRow.offsetHeight);
        console.log()
        debugger;
        let save = firstRow.offsetHeight;
        let lastRow = 0;
        function startScroll() {
            // Stoppe vorheriges Scrolling
            // Scrolle alle 50ms um 1px nach unten

            scrollInterval = setInterval(() => {
                container.scrollTop += 1;
                const currentScrollTop = container.scrollTop; // Echte Position!
                const currentRow = Math.floor(currentScrollTop / firstRow.offsetHeight);
                console.log(currentRow);
                console.log(lastRow);
                if (currentRow !== lastRow) {
                    lastRow = currentRow
                    // Stoppe das Scrolling für 3 Sekunden
                    clearInterval(scrollInterval);
                    setTimeout(() => {
                        // Starte das Scrolling nach 3 Sekunden wieder
                        startScroll();
                    }, 50); // 3000ms = 3 Sekunden
                    console.log(firstRow.offsetHeight);

                }
                // Wenn am Ende angekommen, von vorne beginnen
                if (container.scrollTop >= container.scrollHeight - container.clientHeight) {
                    container.scrollTop = 0;
                }
                

            }, 10);
            console.log(scrollInterval);
        }

        function stopScroll() {
            if (scrollInterval) {
                clearInterval(scrollInterval);
                scrollInterval = null;
            }
        }
        function resetScroll() {
            stopScroll();
            container.scrollTop = 0;
        }
        // Optional: Automatisch beim Laden starten
        // window.addEventListener('load', startScroll);
    </script>
</body>

</html>